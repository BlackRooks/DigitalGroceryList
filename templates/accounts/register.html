{# Style Reference: https://colorlib.com/wp/template/colorlib-regform-26/ Accessed: 09/02/2025#}
{% extends "accounts/account_base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block title %}Register{% endblock %}
{% block content %}
    <div class="wrapper" {# style="background-image: url('{% static "images/food.jpg" %}');" #}>
        <div class="inner">
            <img src="{% static "images/image-1.png" %}" alt="{% static "images/dimoo-1.png" %}" class="image-1">
            <form method="POST" action="{% url "register" %}">
                {% csrf_token %}
                <h3>Register</h3>
                <div class="form-holder">
                    <span class="bi bi-person"></span>
                    {{ form.username|add_class:"form-control" }}
                    {#                <input type="text" class="form-control" placeholder="{{ form.username.label }}">#}
                </div>
                <div class="form-holder">
                    <span class="bi bi-envelope"></span>
                    {{ form.email|add_class:"form-control" }}
                    {#                <input type="text" class="form-control" placeholder="{{ form.email.label }}">#}
                </div>
                <div class="form-holder">
                    <span class="bi bi-lock"></span>
                    {{ form.password1|add_class:"form-control" }}
                    {#                <input type="password" class="form-control" placeholder="{{ form.password1.label }}">#}
                </div>
                <div class="form-holder">
                    <span class="bi bi-lock"></span>
                    {{ form.password2|add_class:"form-control" }}
                    {#                <input type="password" class="form-control" placeholder="{{ form.password2.label }}">#}
                </div>

                <button type="submit">Create User</button>
                <div style="text-align: center; padding: 10px;">
                    <strong>Already have an account? <a href="{% url 'login' %}">Login</a></strong>
                </div>
            </form>
            <div class="messages">
                {% for message in messages %}
                    <p id="messages" class="alert-text">{{ message|striptags }}</p>
                {% endfor %}
            </div>
        </div>
    </div>
    <!--</editor-fold>-->
    <script>
        /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
    //We start indexing at one because CSRF_token is considered and input field
    */

        //Query All input fields
        var form_fields = document.getElementsByTagName('input')
        form_fields[1].placeholder = 'Username..';
        form_fields[2].placeholder = 'Email..';
        form_fields[3].placeholder = 'Enter password...';
        form_fields[4].placeholder = 'Re-enter Password...';


        for (var field in form_fields) {
            form_fields[field].className += ' form-control'
        }
    </script>
{% endblock %}